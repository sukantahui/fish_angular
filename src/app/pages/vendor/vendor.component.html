<div fxLayout.xs="column" fxLayout="row" fxLayoutAlign="space-between stretch" fxFlexFill id="vendor-div">
  <!--  Left Side-->
  <div fxLayout="column" fxFlex="40" class="mr-1">
    <!--    https://www.angularjswiki.com/angular/angular-material-icons-list-mat-icon-list/-->
    <mat-card>
      <div class="form-container">
        <form [formGroup] = vendorForm>
          <div class="container" fxLayout="column" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
            <mat-form-field>
              <input matInput placeholder="Vendor Name" formControlName="person_name">
              <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" *ngIf="!vendorForm.get('person_name').valid && vendorForm.get('person_name').touched">
                <mat-error *ngIf="vendorForm.get('person_name').errors['required']">This field is Required</mat-error>
                <mat-error *ngIf="vendorForm.get('person_name').errors['minlength']">Minimum length of name is {{vendorForm.get('person_name').errors.minlength.requiredLength}}</mat-error>
                <mat-error *ngIf="vendorForm.get('person_name').errors['maxlength']">Maximum length of name is {{vendorForm.get('person_name').errors.maxlength.requiredLength}}</mat-error>
              </div>
            </mat-form-field>

            <mat-form-field>
              <input matInput placeholder="Billing Name" formControlName="billing_name">
              <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" *ngIf="!vendorForm.get('billing_name').valid && vendorForm.get('billing_name').touched">
                <mat-error *ngIf="vendorForm.get('billing_name').errors['required']">This field is Required</mat-error>
                <mat-error *ngIf="vendorForm.get('billing_name').errors['minlength']">Minimum length of name is {{vendorForm.get('billing_name').errors.minlength.requiredLength}}</mat-error>
                <mat-error *ngIf="vendorForm.get('billing_name').errors['maxlength']">Maximum length of name is {{vendorForm.get('billing_name').errors.maxlength.requiredLength}}</mat-error>
              </div>
            </mat-form-field>

            <mat-form-field>
              <mat-placeholder>Email  <mat-icon> email</mat-icon></mat-placeholder>
              <input matInput  formControlName="email">
              <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" *ngIf="!vendorForm.get('email').valid && vendorForm.get('email').touched">
                <mat-error *ngIf="vendorForm.get('email').errors['required']">This field is Required</mat-error>
                <mat-error *ngIf="vendorForm.get('email').errors['email']">This is not a valid Email</mat-error>
              </div>
            </mat-form-field>
            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
              <mat-form-field fxFlex="40">
                <input matInput placeholder="Contact 1" formControlName="mobile1">
              </mat-form-field>
              <mat-form-field fxFlex="40">
                <input matInput placeholder="Contact 2" formControlName="mobile2">
              </mat-form-field>
            </div>
            <!-- Address1 and Address2-->
            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
              <mat-form-field fxFlex="50">
                <input matInput placeholder="Address 1" formControlName="address1">
              </mat-form-field>
              <mat-form-field fxFlex="50">
                <input matInput placeholder="Address 2" formControlName="address2">
              </mat-form-field>
            </div>
            <!-- PO, Area, City, PIN -->
            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
              <mat-form-field fxFlex="30">
                <input matInput placeholder="Post" formControlName="po">
              </mat-form-field>
              <mat-form-field fxFlex="30">
                <input matInput placeholder="Area" formControlName="area">
              </mat-form-field>

            </div>
            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="10px" fxLayoutGap.xs="0">
              <mat-form-field fxFlex="30">
                <input matInput placeholder="City" formControlName="city">
              </mat-form-field>
              <mat-form-field fxFlex="30">
                <input matInput placeholder="PIN" formControlName="pin">
              </mat-form-field>
            </div>
            <div class="container" fxLayout="row" fxLayout.xs="column" fxLayoutAlign="end" fxLayoutGap="10px" fxLayoutGap.xs="0" >
              <button mat-button  mat-stroked-button (click)="clearVendorForm()">
                Clear
              </button>
              <button mat-button  mat-stroked-button [disabled]="!vendorForm.valid" (click)="onSubmit()">
                Save
              </button>
              <button mat-button type="button"  mat-stroked-button (click)="updateVendor()" [disabled]="!vendorForm.valid">
                Update
              </button>
            </div>
          </div>
        </form>

      </div>
    </mat-card>


  </div>
  <!--  Right Side-->
  <div fxFlex="60" class="vendor-list">

    <div id="vendor-table-div">
      <form class="example-form">
        <div class="container" fxLayout fxLayout.xs="column" fxLayoutAlign="start" fxLayoutGap="30px" fxLayoutGap.xs="0">
          <mat-form-field class="example-full-width">
            <input matInput placeholder="Search..." [(ngModel)]="searchTerm" name="search" type="text" autofocus>
          </mat-form-field>

          <mat-form-field class="example-full-width">
            <input matInput placeholder="Items per page" [(ngModel)]="pageSize" name="PageSize" type="text">
          </mat-form-field>
        </div>
      </form>
      <table class="table" id="my-table">
        <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Mobile</th>
          <th>City</th>
          <th>Action</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let vendor of vendorList | filter:searchTerm | paginate: { itemsPerPage: pageSize, currentPage: p }">
          <td>{{vendor.id}}</td>
          <td sortable-column="person_name">{{vendor.person_name}}</td>
          <td>{{vendor.email}}</td>
          <td>{{vendor.mobile1}}</td>
          <td>{{vendor.city}}</td>
          <td>
            <button mat-icon-button color="primary" aria-label="Edit Customer" (click)="populateFormByCurrentVendor(vendor)">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" aria-label="Edit Customer" (click)="deleteCurrentVendor(vendor)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </tr>
        </tbody>
      </table>
      <div fxLayout.xs="column" fxLayout="column" fxFlexFill>
        <!--    https://www.npmjs.com/package/ngx-pagination-->
        <!--    npm i ngx-pagination-->
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
        <pagination-controls  id="some_id"
                              (pageChange)="p=($event)"
                              maxSize="5"
                              directionLinks="true"
                              autoHide="true"
                              responsive="true"
                              previousLabel="Previous"
                              nextLabel="Next"
                              screenReaderPaginationLabel="Pagination"
                              screenReaderPageLabel="page"
                              screenReaderCurrentLabel="You're on page">
        </pagination-controls>
      </div>
    </div>

  </div>
</div>

